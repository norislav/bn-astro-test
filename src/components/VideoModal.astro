---
const {image, videoSrc} = Astro.props;
---

<div class="md:w-[60%] w-full">
  <!-- Video Thumbnail Button -->
  <button
    class="relative flex justify-center items-center focus:outline-none focus-visible:ring focus-visible:ring-indigo-300 rounded-3xl group"
    id="openModal"
    aria-label="Watch the video"
  >
    <img
      class="rounded-xl shadow-xl transition-shadow duration-300 ease-in-out"
      src={image}
      width="1024"
      height="691"
    />
    <!-- Play Icon -->
    <svg class="absolute pointer-events-none group-hover:scale-110 transition-transform duration-300 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="72" height="72">
      <circle class="fill-white" cx="36" cy="36" r="36" fill-opacity=".8" />
      <path class="fill-indigo-500 drop-shadow-2xl" d="M44 36a.999.999 0 0 0-.427-.82l-10-7A1 1 0 0 0 32 29V43a.999.999 0 0 0 1.573.82l10-7A.995.995 0 0 0 44 36V36c0 .001 0 .001 0 0Z" />
    </svg>
  </button>

  <!-- Modal -->
  <div id="modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50" style="display: none;">
    <div class="flex p-6">
      <div class="max-w-5xl h-full flex items-center">
        <div class="w-full max-h-full rounded-xl shadow-2xl aspect-video bg-black overflow-hidden">
          <video width="1920" height="1080" loop controls >
            <source src={videoSrc} type="video/mp4" />
            Your browser does not support the video tag.
          </video>
        </div>
      </div>
      <button class="absolute top-4 right-4 text-white" id="closeModal">Close</button>
    </div>
  </div>
</div>

<script>
  // JavaScript code to handle modal open/close
  document.getElementById('openModal').addEventListener('click', function() {
    document.getElementById('modal').style.display = 'flex';
  });

  document.getElementById('closeModal').addEventListener('click', function() {
    document.getElementById('modal').style.display = 'none';
  });
</script>
